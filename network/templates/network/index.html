{% extends "network/layout.html" %}

{% block head %}

{% endblock %}
{% block body %}

    <!-- <div id="toggle-posts" class="d-inline-flex">
        <button>Change</button>
    </div> -->

    <div class="box w-25 click-newpost">
        <div id="show-newpost-btn">
            <i id="newpost-icon" class="material-icons material-symbols-outlined md-36">add_circle</i> <span class="pl-2">New post</span> 
          </div>
    </div>

    <!-- <button id="show-newpost-btn" class="btn btn-primary w-25">Add new post</button> -->

    <div id="show-newpost" class="box mt-2">
            <div class="w-100">
                <form method="POST" action="">
                    <div class="post-content">
                        <input hidden type="text" value={{csrf_token}} name="csrf_token" id="csrf_token">
                        <textarea maxlength="320" id="content-post" placeholder="Describe yourself here..." required></textarea>
                    </div>
                    <div style="text-align: right;" class="pt-2">
                        <button id="send-post" class="btn btn-outline-primary">Send</button>
                    </div>
                </form>
            </div>
    </div>

    <div id="allposts-div" class="d-inline-flex flex-column-reverse w-100">
        <div class="box w-100" style="background-color: #033649 ; color: white">
            <div style="text-align: center;">
                This is all!
            </div> 
        </div>
        {% for post in posts %}
            <hr>
                {% if request.user == post.user %}
                    <div data-id={{post.id}} class="box w-100 d-inline-flex flex-column align-items-center">
                        <div class="edit w-100">
                            <i class="edit-icon material-icons material-symbols-outlined md-24">edit_note</i> 
                        </div>
                {% else %}
                    <div class="box w-100 d-inline-flex flex-column align-items-center pt-32">
                {% endif %}
                <div class="w-100 d-inline-flex p-2 flex-row align-items-center">
                    <a href="/profile/{{post.user.username}}">
                        <div class="infos-post">
                            <div id="post-logo"><img src={{post.user.img_url}}/></div>
                            <span class="">{{post.user.username}}</span>
                        </div>
                    </a>
                    <div class="w-100 post-content pl-3">
                        {{post.content}}
                    </div>
                </div>
            </div>
        {% endfor %}
        <hr>
    </div>
    
{% endblock %}